

                    <div ng-if="itemCopy.type=='title'" >
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <h2 class="modal-title  "> {{itemCopy.$name}}</h2>
                        </div>
                    </div>
                    <div ng-if="itemCopy.type=='label'" >
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <h3 ng-if="itemCopy.$name!='ruleSettings'" class="modal-title"> {{itemCopy.$name}}</h3>
                            <h3 ng-if="itemCopy.$name=='ruleSettings'" class="modal-title"> {{itemCopy.$name}}: {{itemCopy.value}}</h3>
                        </div>
                    </div>
                    <div ng-if="itemCopy.type=='Separate'" class="" ng-style="{height: itemCopy.height}">
                        <br>
                    </div>

                    <div ng-if="itemCopy.type=='String'" data-ng-hide="itemCopy.hidden">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" class="clearfix">
                            <label  for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}" 
                            ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                            class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}}"
                                 ng-style="auxo.exec(itemCopy.input_style,itemCopy)"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'has-error':!itemCopy.isOptional()&&itemCopy.data[itemCopy.$name]!=false&&!itemCopy.data[itemCopy.$name]}">
                                <input  class="form-control"
                                        id="{{itemCopy.id}}"
                                        name="{{itemCopy.id}}"
                                        ng-model="itemCopy.data[itemCopy.$name]"
                                        ng-class="{'warning_placeholder':!itemCopy.isOptional()&&itemCopy.data[itemCopy.$name]!=false&&!itemCopy.data[itemCopy.$name]}"
                                        ng-readonly="itemCopy.readonly? true: false"
                                        type="text"
                                        ng-change="auxo.interceptor(itemCopy,itemCopy.validator? itemCopy.validator : auxo.maxLengthCheck)"
                                        ng-required="itemCopy.isOptional()? false: true"
                                        placeholder="{{itemCopy.$name}}{{itemCopy.isOptional()?'':' (必填)'}}">
                            </div>

                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='Password'" data-ng-hide="itemCopy.hidden">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label  for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}}"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name]}">
                                <input  class="form-control"
                                        id="{{itemCopy.id}}"
                                        name="{{itemCopy.id}}"
                                        ng-model="itemCopy.data[itemCopy.$name]"
                                        ng-readonly="itemCopy.readonly? true: false"
                                        ng-class="{'warning_placeholder':!itemCopy.optional}"
                                        type="password"
                                        ng-required="itemCopy.optional? false: true"
                                        ng-change="auxo.interceptor(itemCopy,itemCopy.validator? itemCopy.validator : '')"
                                        placeholder="{{itemCopy.$name}}{{item.optional?'':' (必填)'}}">
                            </div>

                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='TextArea'">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label  for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}</label>
                            <div class="{{itemCopy.input_length_class}}"
                                 ng-style="auxo.exec(itemCopy.input_style,itemCopy)"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name]}">
                                <textarea  class="form-control"
                                           id="{{itemCopy.id}}"
                                           name="{{itemCopy.id}}"
                                           ng-model="itemCopy.data[itemCopy.$name]"
                                           ng-class="{'warning_placeholder':!itemCopy.optional}"
                                           ng-required="itemCopy.optional? false: true"
                                           placeholder="{{itemCopy.$name}}{{item.optional?'':' (必填)'}}"
                                           style="height:{{itemCopy.height}}px; resize:vertical;" ></textarea>
                            </div>

                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='Number' " >
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label  for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}{{itemCopy.unit? ' ('+itemCopy.unit+')':''}}
                            <span class = "glyphicon glyphicon-info-sign"    uib-tooltip-html ="'{{itemCopy.label?itemCopy.label: itemCopy.tooltip}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}}"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name]}">
                                <input class="form-control"
                                       id="{{itemCopy.id}}"
                                       name="{{itemCopy.id}}"
                                       ng-class="{'warning_placeholder':!itemCopy.optional}"
                                       ng-model="itemCopy.data[itemCopy.$name]"
                                       ng-required="itemCopy.optional? false: true"
                                       type="number"
                                       placeholder="{{itemCopy.$name}}{{item.optional?'':' (必填)'}}">
                            </div>

                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='TimePeriod' " >
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" ng-init="itemCopy.initValue=itemCopy.data[itemCopy.$name]">
                            <label  for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class = "glyphicon glyphicon-info-sign"  uib-tooltip-html ="'{{itemCopy.label?itemCopy.label: itemCopy.tooltip}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}}" data-ng-class="{'col-sm-9': !itemCopy.input_length_class}">
                                <time-period  output="itemCopy.data[itemCopy.$name]" init="itemCopy.initValue" ></time-period>
                                <input type="hidden" name="{{itemCopy.id}}" ng-model="itemCopy.data[itemCopy.$name]" ng-required="itemCopy.optional? false: true">
                            </div>

                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='Select'" data-ng-hide="itemCopy.hidden">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" ng-if="itemCopy.selectEnum||itemCopy.selectObjEnum">
                            <label  for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}}" data-ng-class="{'col-sm-9': !itemCopy.input_length_class}">
                                <select class="form-control select-placeholder"
                                        id="{{itemCopy.id}}" name="{{itemCopy.id}}"
                                        ng-change="onChange(itemCopy, group, tab)"
                                        ng-model="itemCopy.data[itemCopy.$name]"
                                        ng-required="itemCopy.optional? false: true"
                                        data-ng-disabled="itemCopy.readonly? true: false"
                                         >
                                    <option value="" disabled selected ng-if="!itemCopy.optional">{{itemCopy.$name}} (必填)</option>
                                    <option ng-if="itemCopy.selectEnum" data-ng-repeat="v in itemCopy.selectEnum" ng-value="'{{v}}'">{{v}}</option>
                                    <option ng-if="itemCopy.selectObjEnum" data-ng-repeat="v in itemCopy.selectObjEnum track by $index" ng-value="'{{v.value}}'">{{v.name}}</option>
                                </select>
                            </div>

                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='SelectArray'">
                        <div  ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label  for="{{itemCopy.$name}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class = "glyphicon glyphicon-info-sign"    uib-tooltip-html ="'{{itemCopy.label?itemCopy.label: itemCopy.tooltip}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}}"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'warning_placeholder':!itemCopy.optional}">
                                <tags-input ng-init="arrayToTags(itemCopy)"
                                            min-length="1"
                                            ng-model="itemCopy.tags"
                                            ng-required="itemCopy.optional? false: true"
                                            display-property="text"
                                            placeholder="{{itemCopy.$name}}{{itemCopy.optional? '': ' (必填)'}}"
                                            min-length="1"
                                            max-length="200"
                                            add-on-comma="false"
                                            ng-class="{'warning_placeholder':!itemCopy.optional}"
                                            ##allowed-tags-pattern="^[\u0000-\u00FF 0-9a-zA-Z_-]+$"
                                            replace-spaces-with-dashes="false"
                                            add-from-autocomplete-only="true"
                                            on-tag-added="onTagAdded($tag, itemCopy)"
                                            on-tag-removed="onTagRemoved($tag, itemCopy)">
                                    <auto-complete source="loadTagInputSource(itemCopy)"
                                                   min-length="1"
                                                   load-on-focus="true"
                                                   load-on-empty="true"
                                                   debounce-delay="0"
                                                   max-results-to-show="500"
                                                   ></auto-complete>
                                </tags-input>
                                <input type="hidden" name="{{itemCopy.id}}" ng-model="itemCopy.arrayCount" ng-required="itemCopy.optional? false: true">
                            </div>

                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='StringArray'">
                        <div  ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label  for="{{itemCopy.$name}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}}" data-ng-class="{'col-sm-9': !itemCopy.input_length_class}">
                                <tags-input ng-init="arrayToTags(itemCopy)"
                                            min-length="1"
                                            ng-model="itemCopy.tags"
                                            display-property="text"
                                            key-property="{{itemCopy.unique===false? 'id':''}}"
                                            ng-required="itemCopy.optional? false: true"
                                            placeholder="{{itemCopy.$name}}{{itemCopy.optional? '': ' (必填)'}}"
                                            replace-spaces-with-dashes="false"
                                            add-on-comma="false"
                                            on-tag-added="onTagAdded($tag, itemCopy)"
                                            on-tag-removed="onTagRemoved($tag, itemCopy)">
                                </tags-input>
                                <input type="hidden" name="{{itemCopy.id}}" ng-model="itemCopy.arrayCount" ng-required="itemCopy.optional? false: true">
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='TextArray'">
                        <div  ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label  for="{{itemCopy.$name}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>

                            <div  data-ng-init="initTextArray(itemCopy)" class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-9': !itemCopy.input_length_class}" >
                                <table style="table-layout: fixed;  width: 100%; " data-ng-init="itemName=itemCopy.$name">
                                    <tr ng-repeat="obj in itemCopy.data[itemCopy.$name] track by $index">
                                        <td width="99%">
                                            <div ng-class="{'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name][$index]}">
                                                <textarea  class="form-control"
                                                           ng-model="itemCopy.data[itemCopy.$name][$index]"
                                                           ng-class="{'warning_placeholder':!itemCopy.optional}"
                                                           placeholder="{{itemName}}{{item.optional?'':' (必填)'}}"
                                                           ng-style="{'height':'{{itemCopy.height}}px','resize':'vertical'}" ></textarea>
                                            </div>
                                        </td>

                                        <td style="padding:5px;" >
                                            <a  ng-click="addStrAfter($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-plus-sign icon-green"></span></a>
                                            <a  ng-if="itemCopy.data[itemCopy.$name].length>1" ng-click="removeObj($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-minus-sign icon-red"></span></a>
                                        </td>
                                    </tr>
                                </table>
                                <input type="hidden" name="{{itemCopy.id}}" ng-model="itemCopy.data[itemCopy.$name]"
                                       ng-required="itemCopy.optional? false: true">
                                <div class="clear"></div>
                            </div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='TextArrayWithName'">
                        <div  ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label  for="{{itemCopy.$name}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>

                            <div  data-ng-init="initTextArray(itemCopy)" class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-9': !itemCopy.input_length_class}" >
                                <table style="table-layout: fixed;  width: 100%; " data-ng-init="itemName=itemCopy.$name">
                                    <tr ng-repeat="obj in itemCopy.data[itemCopy.$name] track by $index">
                                        <td width="99%">
                                            <div class="top-padding-5" ng-class="{'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name][$index].name}">
                                                <input type="text"
                                                       style="width: 200px;"
                                                       placeholder="名称(必填)"
                                                       ng-class="{'warning_placeholder':!itemCopy.optional}"
                                                       class="form-control"
                                                       ng-model="itemCopy.data[itemCopy.$name][$index].name">
                                            </div>
                                            <div ng-class="{'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name][$index].$text}">
                                                <textarea  class="form-control"
                                                           ng-model="itemCopy.data[itemCopy.$name][$index].$text"
                                                           ng-change="auxo.copyBindingData(itemCopy.data[itemCopy.$name][$index], '$text', itemCopy.bindings)"
                                                           ng-class="{'warning_placeholder':!itemCopy.optional}"
                                                           placeholder="{{itemName}}{{item.optional?'':' (必填)'}}"
                                                           style="height:{{itemCopy.height}}px; resize:vertical; "></textarea>
                                            </div>
                                        </td>

                                        <td style="padding:5px;" >
                                            <a  ng-click="addStrAfter($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-plus-sign icon-green"></span></a>
                                            <a  ng-if="itemCopy.data[itemCopy.$name].length>1" ng-click="removeObj($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-minus-sign icon-red"></span></a>
                                        </td>
                                    </tr>
                                </table>
                                <input type="hidden" name="{{itemCopy.id}}" ng-model="itemCopy.data[itemCopy.$name]"
                                       ng-required="itemCopy.optional? false: true">
                                <div class="clear"></div>
                            </div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='TextArrayPop'" class="" >
                        <div  ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label  for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            <div class="input-group col-sm-9"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name]}" style="padding-left: 15px; padding-right: 15px;">
                                <input class="form-control"
                                       id="{{itemCopy.id}}"
                                       name="{{itemCopy.id}}"
                                       ng-value="'{{itemCopy.data[itemCopy.$name].join('; ')}}'"
                                       ng-class="{'warning_placeholder':!itemCopy.optional}"
                                       ng-readonly="true"
                                       type="text"
                                       ng-required="itemCopy.optional? false: true"
                                       placeholder="{{itemCopy.$name}}{{item.optional?'':' (必填)'}}">

                                <div class="input-group-btn">
                                    <a class="btn btn-primary ng-pristine ng-untouched ng-valid ng-isolate-scope ng-empty"
                                       data-ng-model="itemCopy.data[itemCopy.$name]" modals-directive
                                        pop-title="编辑" pop-label="{{itemCopy.label?itemCopy.label: itemCopy.$name}}">
                                        <span class="glyphicon glyphicon-edit"></span>
                                    </a>
                                </div>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='CheckListPop'" class="" >
                        <div  ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label  for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                    ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                    class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            <div class="input-group col-sm-9"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name]}" style="padding-left: 15px; padding-right: 15px;">
                                <input class="form-control"
                                       id="{{itemCopy.id}}"
                                       name="{{itemCopy.id}}"
                                       _ng-model="itemCopy.data[itemCopy.$name]"
                                       value="itemCopy.toDisplay(itemCopy.data[itemCopy.$name])"
                                       ng-class="{'warning_placeholder':!itemCopy.optional}"
                                       ng-readonly="true"
                                       type="text"
                                       ng-required="itemCopy.optional? false: true"
                                       placeholder="{{itemCopy.$name}}{{item.optional?'':' (必填)'}}">

                                <div class="input-group-btn">
                                    <a class="btn btn-primary ng-pristine ng-untouched ng-valid ng-isolate-scope ng-empty"
                                        data-ng-model="itemCopy.data[itemCopy.$name]"
                                        check-list-directive
                                        get-all-items="getAllInputFields()"
                                        init-Input-Data="itemCopy.editSetup(inputData)"
                                        pop-title="编辑"
                                        pop-label="{{itemCopy.label?itemCopy.label: itemCopy.$name}}">
                                        <span class="glyphicon glyphicon-edit"></span>
                                    </a>
                                </div>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='StringPop'" class="" >
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" >
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            
                            <div class="{{itemCopy.input_length_class}} input-group"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name]}"
                                 style="padding-left: 15px; padding-right: 15px;">
                                <input type="text" class="form-control"
                                       ng-init="itemCopy.changed=false"
                                       id="{{itemCopy.id}}"
                                       name="{{itemCopy.id}}"
                                       ng-required="itemCopy.optional? false: true"
                                       ng-class="{'warning_placeholder':!itemCopy.optional}"
                                       ng-model="itemCopy.data[itemCopy.$name]"
                                       ng-blur="onChange(itemCopy, group, tab)"
                                       ng-change="itemCopy.changed=true"
                                       placeholder="{{itemCopy.$name}}{{item.optional?'':' (必填)'}}">
                                <div class="input-group-btn"  >
                                    <a  class="btn btn-primary" data-ng-model="itemCopy.data[itemCopy.$name]"
                                        pop-input="{{itemCopy.popSource}}"
                                        pop-title="{{itemCopy.popTitle}}"
                                        pop-multi="{{itemCopy.popMulti}}"
                                        pop-filter="{{itemCopy.filter$}}"
                                        pop-keyword="{{itemCopy.keyword}}"
                                        on-select-changed="onSelectChanged(itemCopy, tab, selectedRow)"
                                        string-popup>
                                        <span class="glyphicon glyphicon-search"></span> </a>
                                </div>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='cron'" class="" >
                        <div  ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}} input-group"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name]}"
                                 style="padding-left: 15px; padding-right: 15px;">
                                <cron-selection output="itemCopy.data[itemCopy.$name]" init="itemCopy.data[itemCopy.$name]"></cron-selection>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='SelectPop'" class="" >
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)">
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class ="glyphicon glyphicon-info-sign"  uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}} input-group"
                                 data-ng-class="{'col-sm-9': !itemCopy.input_length_class, 'has-error':!itemCopy.optional&&!itemCopy.data[itemCopy.$name]}"
                                 style="padding-left: 15px; padding-right: 15px;">
                                <input type="text"
                                       class="form-control"
                                       id="{{itemCopy.id}}"
                                       name="{{itemCopy.id}}"
                                       ng-class="{'warning_placeholder':!itemCopy.optional}"
                                       ng-required="itemCopy.optional? false: true"
                                       ng-model="itemCopy.data[itemCopy.$name]"
                                       ng-readonly="true"
                                       placeholder="{{itemCopy.$name}}{{item.optional?'':' (必填)'}}">
                                <div class="input-group-btn"  >
                                    <a  class="btn btn-primary" ng-change="onChange(itemCopy, group, tab)"
                                        data-ng-model="itemCopy.data[itemCopy.$name]" pop-input="{{itemCopy.selectSource}}"
                                        pop-title="{{itemCopy.popTitle}}"
                                        pop-filter="{{itemCopy.filter$}}"
                                        pop-multi="{{itemCopy.popMulti}}"
                                        pop-keyword="{{itemCopy.keyword}}"
                                        on-select-changed="onSelectChanged(itemCopy, tab, selectedRow)"
                                        step-popup>
                                        <span class="glyphicon glyphicon-search"></span> </a>
                                    <a  class="btn btn-primary"
                                        ng-if="itemCopy.removable"
                                        ng-click="removeValue(itemCopy, group, tab)"
                                        data-ng-model="itemCopy.data[itemCopy.$name]" >
                                        <span class="glyphicon glyphicon-remove icon-red"></span> </a>
                                </div>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='Boolean'" class="">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" >
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class ="glyphicon glyphicon-info-sign"   uib-tooltip-html="'{{itemCopy.tooltip? itemCopy.tooltip:itemCopy.label}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-9': !itemCopy.input_length_class}" >
                                <select  class="form-control" id="{{itemCopy.id}}" name="{{itemCopy.id}}"  ng-model="itemCopy.data[itemCopy.$name]"
                                        ng-options="v for v in itemCopy.selectEnum" ></select>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='ObjectArray' && itemCopy.$name=='aggregations'" class="">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" data-ng-init="">
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class = "glyphicon glyphicon-info-sign"    uib-tooltip-html ="'{{itemCopy.label?itemCopy.label: itemCopy.tooltip}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-9': !itemCopy.input_length_class}" >
                                <table style="table-layout: fixed;  width: 100%; margin-left: -5px;" >
                                    <thead>
                                    <tr>
                                        <th style="padding:5px; text-align:center;"  width="30%"> 字段</th>
                                        <th style="padding:5px; text-align:center;"  width="30%"> 函数</th>
                                        <th style="padding:5px; text-align:center;"  width="30%"> 别名</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody ng-form="aggregate_cols_form">
                                    <tr ng-repeat="obj in itemCopy.data[itemCopy.$name]">
                                        <td style="padding:5px;" >
                                            <select class="form-control select-placeholder"  ng-model="obj.column" required>
                                                <option value="" disabled selected>字段 (必填)</option>
                                                <option data-ng-repeat="v in itemCopy.selectEnum" ng-value="'{{v}}'">{{v}}</option>
                                            </select>
                                        </td>
                                        <td style="padding:5px;" >
                                            <select class="form-control select-placeholder"  ng-model="obj.function" required>
                                                <option value="" disabled selected>函数 (必填)</option>
                                                <option data-ng-repeat="v in itemCopy.functions" ng-value="'{{v}}'">{{v}}</option>
                                            </select>
                                        </td>
                                        <td style="padding:5px;" >
                                            <div ng-class="{'has-error':!obj.alias}">
                                                <input ng-init="obj.$id=getId()"
                                                       name="{{obj.$id}}"
                                                       placeholder="别名 (必填)"
                                                       class="form-control warning_placeholder"
                                                       ng-model="obj.alias" normal-word-validation required>
                                            </div>
                                        </td>

                                        <td style="padding:5px;" >
                                            <a  ng-click="addObjAfter($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-plus-sign icon-green"></span></a>
                                            <a  ng-if="itemCopy.data[itemCopy.$name].length>1" ng-click="removeObj($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-minus-sign icon-red"></span></a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <input type="hidden" name="{{itemCopy.id}}" ng-model="itemCopy.data[itemCopy.$name]"
                                   ng-required="itemCopy.optional? false: true">
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="auxo.isStepType(configuration.type,'starjoin') && itemCopy.type=='ObjectArray' && itemCopy.$name=='joinConditions'" class="">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" data-ng-init="">
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                            <span class = "glyphicon glyphicon-info-sign"  uib-tooltip-html ="'{{itemCopy.label?itemCopy.label: itemCopy.tooltip}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-9': !itemCopy.input_length_class}" >
                                <table style="table-layout: fixed;  width: 100%; margin-left: -5px;" >
                                    <thead>
                                    <tr>
                                        <th style="padding:5px; text-align:center;"  width="30%"> 维表</th>
                                        <th style="padding:5px; text-align:center;"  width="30%"> 维表字段</th>
                                        <th style="padding:5px; text-align:center;"  width="30%">事实表字段</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="obj in itemCopy.data[itemCopy.$name]">
                                        <td style="padding:5px;" >
                                            <select class="form-control select-placeholder"  ng-model="obj.tableName" required>
                                                <option value="" disabled selected>维表 (必填)</option>
                                                <option data-ng-repeat="v in itemCopy.dimTables" ng-value="'{{v}}'">{{v}}</option>
                                            </select>
                                        </td>
                                        <td style="padding:5px;" >
                                            <select class="form-control select-placeholder"  ng-model="obj.dimColumn" required>
                                                <option value="" disabled selected>维表字段 (必填)</option>
                                                <option data-ng-repeat="v in itemCopy.$inputFields[obj.tableName]" ng-value="'{{v}}'">{{v}}</option>
                                            </select>
                                        </td>
                                        <td style="padding:5px;" >
                                            <select class="form-control select-placeholder"  ng-model="obj.factColumn" required>
                                                <option value="" disabled selected>事实表字段 (必填)</option>
                                                <option data-ng-repeat="v in itemCopy.$inputFields[itemCopy.data.factTable]" ng-value="'{{v}}'">{{v}}</option>
                                        </select>
                                        </td>
                                        <td style="padding:5px;" >
                                            <a  ng-click="addObjAfter($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-plus-sign icon-green"></span></a>
                                            <a  ng-if="itemCopy.data[itemCopy.$name].length>1" ng-click="removeObj($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-minus-sign icon-red"></span></a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <input type="hidden" name="{{itemCopy.id}}" ng-model="itemCopy.data[itemCopy.$name]"
                                   ng-required="itemCopy.optional? false: true">
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="configuration.type=='parallel' || configuration.type=='exclusive'" class="">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" ng-if="itemCopy.$name=='conditions'">
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-2': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}</label>
                            <div  data-ng-init="" class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-10': !itemCopy.input_length_class}" >
                                    <table style="table-layout: fixed;  width: 100%; " >
                                        <thead>
                                        <tr>
                                            <th style="padding:5px; text-align:center;"  width="25%">输出</th>
                                            <th style="padding:5px; text-align:center;"  width="65%"> 条件</th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="obj in itemCopy.data[itemCopy.$name]">
                                            <td style="padding:5px;" ><select class="form-control"  ng-model="obj.output"
                                                                              ng-options="v for v in outputs" ></select></td>
                                            <td style="padding:5px;" >
                                                <input class="form-control"
                                                       ng-model="obj.condition"
                                                       type="text" placeholder="条件表达式"></td>
                                            <td style="padding:5px;" >
                                                <a  ng-click="addObjAfter($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-plus-sign icon-green"></span></a>
                                                <a  ng-if="itemCopy.data[itemCopy.$name].length>1" ng-click="removeObj($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-minus-sign icon-red"></span></a>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                <input type="hidden" name="{{itemCopy.id}}" ng-model="itemCopy.data[itemCopy.$name]"
                                       ng-required="itemCopy.optional? false: true">
                                <div  ng-include="'app/step/node_configuration_form_errorMessage.html'" ></div>
                                <div class="clear"></div>
                                <br>
                                <p data-ng-show="configuration.type=='parallel'" style="color: red; margin-left: 20px;"> 提示：并行控制节点，满足条件的所有输出节点都将执行！ </p>
                                <p data-ng-show="configuration.type=='exclusive'" style="color: red;margin-left: 20px;"> 提示：排他控制节点，第一个满足条件的输出节点将执行！ </p>
                            </div>
                        </div>
                    </div>


                    <div ng-if="['dataflow','shell','streamflow'].indexOf(configuration.type)>=0 && itemCopy.type=='ObjectArray' && itemCopy.$name=='arguments'" class="">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)"  data-ng-show="itemCopy.data.dataflowId$">
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class = "glyphicon glyphicon-info-sign"  uib-tooltip-html ="'{{itemCopy.label?itemCopy.label: itemCopy.tooltip}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-9': !itemCopy.input_length_class}" >
                                <table style="table-layout: fixed;  width: 100%; margin-left: -5px;" >
                                    <thead>
                                    <tr>
                                        <th style="padding:5px; text-align:center;"  >参数</th>
                                        <th style="padding:5px; text-align:center;" >值</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="obj in itemCopy.data[itemCopy.$name]">
                                        <td style="padding:5px; text-align:center;" ><span>{{obj.name}}</span></td>
                                        <td style="padding:5px;" ><input  placeholder="值 (必填)" class="form-control"  ng-model="obj.value"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div ng-if="auxo.isStepType(configuration.type,'join') && itemCopy.$name=='joinConditions'" class="">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" data-ng-init="">
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class = "glyphicon glyphicon-info-sign"    uib-tooltip-html ="'{{itemCopy.label?itemCopy.label: itemCopy.tooltip}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-9': !itemCopy.input_length_class}" >
                                <table style="table-layout: fixed;  width: 100%; margin-left: -5px;" >
                                    <thead>
                                    <tr>
                                        <th style="padding:5px; text-align:center;"  width="49%"> 左(字段)</th>
                                        <th style="padding:5px; text-align:center;"  width="49%"> 右(字段)</th>
                                        <th style="" width="2%"></th>
                                    </tr>
                                    </thead>
                                    <tbody ng-form="aggregate_cols_form">
                                    <tr ng-repeat="obj in itemCopy.data[itemCopy.$name]">
                                        <td style="padding:5px;" >
                                            <select class="form-control select-placeholder"  ng-model="obj.leftColumn" required>
                                                <option value="" disabled selected>左表字段 (必填)</option>
                                                <option data-ng-repeat="v in data.inputConfigurations[0].fields" ng-value="'{{v.alias? v.alias:v.column}}'">{{v.alias? v.alias:v.column}}</option>
                                            </select>
                                        </td>
                                        <td style="padding:5px;" >
                                            <select class="form-control select-placeholder"  ng-model="obj.rightColumn" required>
                                                <option value="" disabled selected>右表字段 (必填)</option>
                                                <option data-ng-repeat="v in data.inputConfigurations[1].fields" ng-value="'{{v.alias? v.alias:v.column}}'">{{v.alias? v.alias:v.column}}</option>
                                            </select>
                                        </td>

                                        <td style="padding:5px;" >
                                            <a  ng-if="itemCopy.data[itemCopy.$name].length>1" ng-click="itemCopy.data[itemCopy.$name].splice($index,1)" class=""><span class="glyphicon glyphicon-minus-sign icon-red"></span></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3" style="color: red;"><a  ng-click="itemCopy.data[itemCopy.$name].push({leftColumn: '',rightColumn: ''})" class=""><span class="glyphicon glyphicon-plus-sign icon-green"></span></a></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <input type="hidden" name="{{itemCopy.id}}" ng-model="itemCopy.data[itemCopy.$name]"
                                   ng-required="itemCopy.optional? false: true">
                            <div  ng-include="'app/step/node_configuration_form_errorMessage.html'" ></div>
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type=='ObjectArray' && itemCopy.$name=='valueColumns'">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" data-ng-init="">
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class = "glyphicon glyphicon-info-sign"  uib-tooltip-html ="'{{itemCopy.label?itemCopy.label: itemCopy.tooltip}}'"></span>
                            </label>
                            <div class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-9': !itemCopy.input_length_class}" >
                                <table style="table-layout: fixed;  width: 100%; margin-left: -5px; margin-top:10px;" >
                                    <thead>
                                    <tr>
                                        <th ng-repeat="col in itemCopy.content" style="padding:5px; text-align:center;"  width="{{1/itemCopy.content.length*100}}%">{{col.label}}</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="obj in itemCopy.data[itemCopy.$name]">

                                        <td style="padding:5px;" ng-repeat="td in itemCopy.content">

                                            <select ng-if="td.type==='Select'" class="form-control select-placeholder"
                                                    ng-change="onSelectChange(itemCopy, group, tab, td.$name, obj)"  ng-model="obj[td.$name]" ng-required="td.optional?false:true">
                                                <option ng-init="td.selectEnum.indexOf(obj[td.$name])<0 ? obj[td.$name]='':''" value="" disabled selected>{{td.$name}} (必填)</option>
                                                <option data-ng-repeat="v in td.selectEnum" ng-value="'{{v}}'">{{v}}</option>
                                            </select>
                                            <div ng-class="{'has-error':!td.optional&&!obj[td.$name]}">
                                                <input ng-if="td.type==='String'"
                                                       class="form-control"
                                                       ng-model="obj[td.$name]"
                                                       placeholder="{{td.$name}} (必填)"
                                                       ng-class="{'warning_placeholder':!td.optional}"
                                                       ng-required="td.optional?false:true">
                                            </div>
                                        </td>

                                        <td style="padding:5px;" >
                                            <a  ng-click="addObjAfter($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-plus-sign icon-green"></span></a>
                                            <a  ng-if="itemCopy.data[itemCopy.$name].length>1" ng-click="removeObj($index, itemCopy.data[itemCopy.$name])" class=""><span class="glyphicon glyphicon-minus-sign icon-red"></span></a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>

                    <div ng-if="itemCopy.type==='ObjectArrayV'">
                        <div ng-style="auxo.exec(itemCopy.style, itemCopy)" >
                            <label for="{{itemCopy.id}}" data-ng-class="{'col-sm-3': !itemCopy.label_length_class}"
                                   ng-style="itemCopy.label_align=='left' && {'text-align': 'left'}"
                                   class="{{itemCopy.label_length_class}}  control-label">{{itemCopy.label?itemCopy.label: itemCopy.$name}}
                                <span class = "glyphicon glyphicon-info-sign"  uib-tooltip-html ="'{{itemCopy.label?itemCopy.label: itemCopy.tooltip}}'"></span>
                                <span ng-if="itemCopy.addable" >
                                    <a  ng-click="addObjAfter(null, itemCopy.content, auxo.clone(itemCopy.group,true)); addObjAfter(null, itemCopy.$data)" class=""><span ng-if="itemCopy.addable " class="glyphicon glyphicon-plus-sign icon-green"></span></a>
                                </span>
                            </label>
                            <div class="{{itemCopy.input_length_class}} " data-ng-class="{'col-sm-9': !itemCopy.input_length_class}" ng-init="itemCopy.$data=itemCopy.data[itemCopy.$name]" >
                                <div ng-init="dataIndex=$index; group.$index=$index" ng-repeat="group in itemCopy.content " class="bottom-margin-5">
                                    <div class="input-group col-sm-12" ng-style="auxo.exec(itemCopy.group_style,group)">
                                        <div data-ng-init="itemSrc=itemCopy" ng-repeat="itemNest in group" class=" " >
                                            <div  data-ng-init="itemNest.data=itemCopy.$data[dataIndex]; itemCopy=itemNest; itemCopy.$index=$index"
                                                  ng-include="'app/step/node_configuration_form_nest.html'" ></div>
                                        </div>
                                        <div ng-if="itemCopy.removable"  class="input-group-addon " >
                                            <a ng-click="itemCopy.$data.splice($index,1); itemCopy.content.splice($index,1);" class=""><span class="glyphicon glyphicon-minus-sign icon-red"></span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>